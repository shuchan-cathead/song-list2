<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ¶ æ­Œã®ãƒªã‚¹ãƒˆ</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
      transition: background-image 0.3s ease, background-color 0.3s ease;
      color: #000;
      min-height: 100vh;
    }
    h1 { margin-bottom: 10px; }
    button { padding: 5px 10px; margin: 2px; font-size: 14px; }
    input[type="text"] { margin: 3px; padding: 5px; font-size: 14px; }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
      background: rgba(255, 255, 255, 0.95);
    }
    th, td {
      border: 1px solid #ccc;
      padding: 8px;
      text-align: left;
    }
    th {
      background-color: #f0f0f0;
      cursor: pointer;
    }

    .pagination {
      margin-top: 10px;
      text-align: center;
    }

    .settings-toggle {
      position: fixed;
      bottom: 10px;
      right: 10px;
      z-index: 1000;
    }
    .settings-panel {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background: rgba(255,255,255,0.9);
      border-top:1px solid #ccc;
      padding:10px;
      display:none;
      z-index:999;
      font-size:14px;
    }
    .settings-panel input[type="text"],
    .settings-panel input[type="range"],
    .settings-panel input[type="color"],
    .settings-panel input[type="file"] {
      margin:3px;
    }

    @media(max-width:600px){
      body, table, th, td, input, button, .settings-panel { font-size: 12px; }
    }
  </style>
</head>
<body>

<h1 id="pageTitle">ğŸ¶ æ­Œã®ãƒªã‚¹ãƒˆ</h1>

<div>
  <input type="text" id="newTitle" placeholder="æ›²å">
  <input type="text" id="newArtist" placeholder="ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆå">
  <input type="text" id="newUrl" placeholder="å‹•ç”»URL (çœç•¥å¯)">
  <button onclick="addSong()">è¿½åŠ </button>
</div>

<table id="songTable">
  <thead>
    <tr>
      <th>#</th>
      <th onclick="sortBy('title')">æ›²å â–²â–¼</th>
      <th onclick="sortBy('artist')">ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆ â–²â–¼</th>
      <th>å‹•ç”»</th>
      <th>æ“ä½œ</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<div class="pagination">
  <button onclick="prevPage()">â® å‰ã¸</button>
  <span id="pageInfo"></span>
  <button onclick="nextPage()">æ¬¡ã¸ â­</button>
</div>

<!-- è¨­å®šãƒœã‚¿ãƒ³ -->
<div class="settings-toggle">
  <button onclick="toggleSettings()">âš™ï¸ è¨­å®š</button>
</div>

<!-- è¨­å®šãƒ‘ãƒãƒ« -->
<div class="settings-panel" id="settingsPanel">
  <div><label>ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«ï¼š</label><input type="text" id="pageTitleInput" oninput="updateTitle()"></div>
  <div><label>èƒŒæ™¯URLï¼š</label><input type="text" id="bgUrlInput" oninput="updateBackground()"> <label>ç”»åƒï¼š</label><input type="file" id="bgUpload" accept="image/*" onchange="uploadBackground()"> <button onclick="resetBackground()">ãƒªã‚»ãƒƒãƒˆ</button></div>
  <div><label>èƒŒæ™¯é€æ˜åº¦ï¼š</label><input type="range" min="0" max="1" step="0.01" id="bgOpacity" value="0.9" oninput="updateOpacity()"></div>
  <div><label>æ–‡å­—è‰²ï¼š</label><input type="color" id="textColor" value="#000000" onchange="updateTextColor()"></div>
  <div><button onclick="saveSettings()">è¨­å®šä¿å­˜</button><button onclick="loadSettings()">è¨­å®šå¾©å…ƒ</button></div>
</div>

<script>
// ä»¥ä¸‹ã®JavaScriptã‚³ãƒ¼ãƒ‰ã«ã€èƒŒæ™¯ã‚„æ–‡å­—è‰²ãªã©ã®è¨­å®šå¾©å…ƒãƒ»ä¿å­˜å‡¦ç†ãŒå«ã¾ã‚Œã¦ã„ã¾ã™
// æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰ã«ã“ã®ã¾ã¾çµ±åˆã™ã‚Œã°ã€ã™ã¹ã¦æ©Ÿèƒ½ã—ã¾ã™
function toggleSettings() {
  const panel = document.getElementById("settingsPanel");
  panel.style.display = (panel.style.display === "block") ? "none" : "block";
}
function updateTitle() {
  document.getElementById("pageTitle").textContent = document.getElementById("pageTitleInput").value || "ğŸ¶ æ­Œã®ãƒªã‚¹ãƒˆ";
}
function updateBackground() {
  document.body.style.backgroundImage = document.getElementById("bgUrlInput").value ? `url('${document.getElementById("bgUrlInput").value}')` : 'none';
}
function uploadBackground() {
  const file = document.getElementById("bgUpload").files[0];
  if (file) {
    const reader = new FileReader();
    reader.onload = e => {
      document.body.style.backgroundImage = `url('${e.target.result}')`;
      localStorage.setItem("bgImage", e.target.result);
    };
    reader.readAsDataURL(file);
  }
}
function resetBackground() {
  document.body.style.backgroundImage = 'none';
  document.getElementById("bgUrlInput").value = '';
  localStorage.removeItem("bgImage");
}
function updateOpacity() {
  document.body.style.backgroundColor = `rgba(255,255,255,${1 - document.getElementById("bgOpacity").value})`;
}
function updateTextColor() {
  document.body.style.color = document.getElementById("textColor").value;
}
function saveSettings() {
  localStorage.setItem("pageTitle", document.getElementById("pageTitleInput").value);
  localStorage.setItem("textColor", document.getElementById("textColor").value);
  localStorage.setItem("bgOpacity", document.getElementById("bgOpacity").value);
  localStorage.setItem("bgUrl", document.getElementById("bgUrlInput").value);
}
function loadSettings() {
  document.getElementById("pageTitleInput").value = localStorage.getItem("pageTitle") || '';
  updateTitle();
  document.getElementById("textColor").value = localStorage.getItem("textColor") || '#000000';
  updateTextColor();
  document.getElementById("bgOpacity").value = localStorage.getItem("bgOpacity") || 0.9;
  updateOpacity();
  document.getElementById("bgUrlInput").value = localStorage.getItem("bgUrl") || '';
  updateBackground();
  const img = localStorage.getItem("bgImage");
  if (img) document.body.style.backgroundImage = `url('${img}')`;
}
window.onload = function () {
  loadSettings();
  // ä»–ã®loadSongsãªã©ã‚‚ã“ã“ã§å‘¼ã³å‡ºã—å¯
};
</script>

</body>
</html>
